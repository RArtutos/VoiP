import{r as f,a as he,g as pe,R as ge,u as Q,O as H,L as C,b as L,c as ee,B as be,d as je,e as S,N as se}from"./vendor-RHWNRjF7.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();var te={exports:{}},R={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye=f,fe=Symbol.for("react.element"),Ne=Symbol.for("react.fragment"),ve=Object.prototype.hasOwnProperty,we=ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ke={key:!0,ref:!0,__self:!0,__source:!0};function ae(s,a,r){var l,t={},n=null,c=null;r!==void 0&&(n=""+r),a.key!==void 0&&(n=""+a.key),a.ref!==void 0&&(c=a.ref);for(l in a)ve.call(a,l)&&!ke.hasOwnProperty(l)&&(t[l]=a[l]);if(s&&s.defaultProps)for(l in a=s.defaultProps,a)t[l]===void 0&&(t[l]=a[l]);return{$$typeof:fe,type:s,key:n,ref:c,props:t,_owner:we.current}}R.Fragment=Ne;R.jsx=ae;R.jsxs=ae;te.exports=R;var e=te.exports,re,W=he;re=W.createRoot,W.hydrateRoot;const Ce={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},X=s=>{let a;const r=new Set,l=(b,j)=>{const m=typeof b=="function"?b(a):b;if(!Object.is(m,a)){const x=a;a=j??(typeof m!="object"||m===null)?m:Object.assign({},a,m),r.forEach(d=>d(a,x))}},t=()=>a,o={setState:l,getState:t,getInitialState:()=>u,subscribe:b=>(r.add(b),()=>r.delete(b)),destroy:()=>{(Ce?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=a=s(l,t,o);return o},Ee=s=>s?X(s):X;var le={exports:{}},ne={},ce={exports:{}},ie={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I=f;function Se(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var De=typeof Object.is=="function"?Object.is:Se,Ae=I.useState,Te=I.useEffect,Ie=I.useLayoutEffect,Le=I.useDebugValue;function Me(s,a){var r=a(),l=Ae({inst:{value:r,getSnapshot:a}}),t=l[0].inst,n=l[1];return Ie(function(){t.value=r,t.getSnapshot=a,O(t)&&n({inst:t})},[s,r,a]),Te(function(){return O(t)&&n({inst:t}),s(function(){O(t)&&n({inst:t})})},[s]),Le(r),r}function O(s){var a=s.getSnapshot;s=s.value;try{var r=a();return!De(s,r)}catch{return!0}}function Pe(s,a){return a()}var qe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Pe:Me;ie.useSyncExternalStore=I.useSyncExternalStore!==void 0?I.useSyncExternalStore:qe;ce.exports=ie;var $e=ce.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F=f,Re=$e;function Fe(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ue=typeof Object.is=="function"?Object.is:Fe,_e=Re.useSyncExternalStore,ze=F.useRef,Oe=F.useEffect,Be=F.useMemo,Ve=F.useDebugValue;ne.useSyncExternalStoreWithSelector=function(s,a,r,l,t){var n=ze(null);if(n.current===null){var c={hasValue:!1,value:null};n.current=c}else c=n.current;n=Be(function(){function o(x){if(!u){if(u=!0,b=x,x=l(x),t!==void 0&&c.hasValue){var d=c.value;if(t(d,x))return j=d}return j=x}if(d=j,Ue(b,x))return d;var i=l(x);return t!==void 0&&t(d,i)?(b=x,d):(b=x,j=i)}var u=!1,b,j,m=r===void 0?null:r;return[function(){return o(a())},m===null?void 0:function(){return o(m())}]},[a,r,l,t]);var p=_e(s,n[0],n[1]);return Oe(function(){c.hasValue=!0,c.value=p},[p]),Ve(p),p};le.exports=ne;var Ge=le.exports;const He=pe(Ge),oe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:We}=ge,{useSyncExternalStoreWithSelector:Xe}=He;let Z=!1;const Ze=s=>s;function Je(s,a=Ze,r){(oe?"production":void 0)!=="production"&&r&&!Z&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Z=!0);const l=Xe(s.subscribe,s.getState,s.getServerState||s.getInitialState,a,r);return We(l),l}const J=s=>{(oe?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof s=="function"?Ee(s):s,r=(l,t)=>Je(a,l,t);return Object.assign(r,a),r},Ke=s=>s?J(s):J,D={},M="./data/db.json",K="./data";D.existsSync(K)||D.mkdirSync(K,{recursive:!0});if(!D.existsSync(M)){const s={clientes:[],tickets:[],usuarios:[{id:"admin1",nombreUsuario:"admin",nombre:"Administrador",rol:"admin",departamento:"general",password:"admin123"}]};D.writeFileSync(M,JSON.stringify(s,null,2))}const w=()=>{try{const s=D.readFileSync(M,"utf-8");return JSON.parse(s)}catch(s){return console.error("Error reading database:",s),{clientes:[],tickets:[],usuarios:[]}}},A=s=>{try{const a=D.dirname(M);D.existsSync(a)||D.mkdirSync(a,{recursive:!0}),D.writeFileSync(M,JSON.stringify(s,null,2))}catch(a){throw console.error("Error writing database:",a),new Error("No se pudo guardar los datos")}},k={clientes:{getAll:()=>w().clientes,getById:s=>w().clientes.find(a=>a.id===s),create:s=>{try{const a=w();return a.clientes.push(s),A(a),s}catch(a){throw console.error("Error creating client:",a),new Error("No se pudo crear el cliente")}},update:(s,a)=>{try{const r=w(),l=r.clientes.findIndex(t=>t.id===s);return l>=0?(r.clientes[l]={...r.clientes[l],...a},A(r),r.clientes[l]):null}catch(r){throw console.error("Error updating client:",r),new Error("No se pudo actualizar el cliente")}},delete:s=>{try{const a=w();a.clientes=a.clientes.filter(r=>r.id!==s),A(a)}catch(a){throw console.error("Error deleting client:",a),new Error("No se pudo eliminar el cliente")}}},tickets:{getAll:()=>w().tickets,getById:s=>w().tickets.find(a=>a.id===s),create:s=>{try{const a=w();return a.tickets.push(s),A(a),s}catch(a){throw console.error("Error creating ticket:",a),new Error("No se pudo crear el ticket")}},update:(s,a)=>{try{const r=w(),l=r.tickets.findIndex(t=>t.id===s);return l>=0?(r.tickets[l]={...r.tickets[l],...a},A(r),r.tickets[l]):null}catch(r){throw console.error("Error updating ticket:",r),new Error("No se pudo actualizar el ticket")}},delete:s=>{try{const a=w();a.tickets=a.tickets.filter(r=>r.id!==s),A(a)}catch(a){throw console.error("Error deleting ticket:",a),new Error("No se pudo eliminar el ticket")}}},usuarios:{getAll:()=>w().usuarios,getByUsername:s=>w().usuarios.find(a=>a.nombreUsuario===s),create:s=>{try{const a=w();return a.usuarios.push(s),A(a),s}catch(a){throw console.error("Error creating user:",a),new Error("No se pudo crear el usuario")}},update:(s,a)=>{try{const r=w(),l=r.usuarios.findIndex(t=>t.id===s);return l>=0?(r.usuarios[l]={...r.usuarios[l],...a},A(r),r.usuarios[l]):null}catch(r){throw console.error("Error updating user:",r),new Error("No se pudo actualizar el usuario")}}}},E=Ke((s,a)=>({isLoggedIn:!1,currentUser:null,clientes:[],tickets:[],usuarios:[],initializeStore:()=>{s({clientes:k.clientes.getAll(),tickets:k.tickets.getAll(),usuarios:k.usuarios.getAll()})},login:r=>{const l=k.usuarios.getByUsername(r.username);return l?(s({isLoggedIn:!0,currentUser:l}),!0):!1},logout:()=>{s({isLoggedIn:!1,currentUser:null})},buscarCliente:r=>k.clientes.getAll().find(l=>l.numeroCliente===r)||null,crearTicket:(r,l,t)=>{const{currentUser:n}=a();if(!n)throw new Error("Usuario no autenticado");const c=`T${Date.now()}`,p={id:c,clienteId:r,estado:"abierto",departamento:l,problema:t,notas:[],fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString(),asignadoA:n.id};return k.tickets.create(p),s(o=>({tickets:[...o.tickets,p]})),c},actualizarTicket:(r,l,t)=>{const n=k.tickets.getById(r);if(!n)throw new Error("Ticket no encontrado");const c={estado:l,fechaActualizacion:new Date().toISOString()};t&&(c.notas=[...n.notas,t]),k.tickets.update(r,c),s(p=>({tickets:p.tickets.map(o=>o.id===r?{...o,...c}:o)}))},crearCliente:r=>{const l=`C${Date.now()}`,t={...r,id:l,fechaRegistro:new Date().toISOString()};return k.clientes.create(t),s(n=>({clientes:[...n.clientes,t]})),t},actualizarCliente:(r,l)=>{k.clientes.update(r,l),s(t=>({clientes:t.clientes.map(n=>n.id===r?{...n,...l}:n)}))},crearUsuario:r=>{const{currentUser:l}=a();if(!l||l.rol!=="admin")throw new Error("Solo los administradores pueden crear nuevos usuarios");const t=`U${Date.now()}`,n={...r,id:t};k.usuarios.create(n),s(c=>({usuarios:[...c.usuarios,n]}))},actualizarUsuario:(r,l)=>{const{currentUser:t}=a();if(!t||t.rol!=="admin")throw new Error("Solo los administradores pueden actualizar usuarios");k.usuarios.update(r,l),s(n=>({usuarios:n.usuarios.map(c=>c.id===r?{...c,...l}:c)}))},getTicketsFiltrados:()=>{const{currentUser:r}=a(),l=k.tickets.getAll();return r?r.rol==="admin"?l:l.filter(t=>t.departamento===r.departamento||t.asignadoA===r.id):[]},canCreateTicketForDepartment:r=>{const{currentUser:l}=a();return l?l.rol==="admin"?!0:l.departamento===r:!1}}));E.getState().initializeStore();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),N=(s,a)=>{const r=f.forwardRef(({color:l="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:p="",children:o,...u},b)=>f.createElement("svg",{ref:b,...Ye,width:t,height:t,stroke:l,strokeWidth:c?Number(n)*24/Number(t):n,className:["lucide",`lucide-${Qe(s)}`,p].join(" "),...u},[...a.map(([j,m])=>f.createElement(j,m)),...Array.isArray(o)?o:[o]]));return r.displayName=`${s}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=N("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=N("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=N("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=N("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=N("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=N("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=N("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=N("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=N("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=N("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=N("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=N("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=N("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=N("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=N("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=N("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=N("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=N("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=N("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=N("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=N("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=N("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=N("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=N("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=N("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hs=()=>{const{isLoggedIn:s,currentUser:a,logout:r}=E(),l=Q();if(!s)return e.jsx(H,{});const t=n=>l.pathname===n?"bg-gray-700":"";return e.jsxs("div",{className:"flex h-screen bg-gray-900 text-gray-100",children:[e.jsxs("div",{className:"w-64 bg-gray-800",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold",children:"TelDrive"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Sistema de Soporte"})]}),e.jsx("div",{className:"p-2",children:e.jsxs("p",{className:"px-4 py-2 text-sm text-gray-400",children:["Agente: ",a.nombre]})}),e.jsxs("nav",{className:"mt-6",children:[e.jsxs(C,{to:"/clientes",className:`flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 transition-colors ${t("/clientes")}`,children:[e.jsx(P,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"Clientes"})]}),e.jsxs(C,{to:"/tickets",className:`flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 transition-colors ${t("/tickets")}`,children:[e.jsx(V,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"Tickets"})]}),e.jsxs(C,{to:"/",className:`flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 transition-colors ${t("/")}`,children:[e.jsx(ts,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"Dashboard"})]}),a.rol==="admin"&&e.jsxs(C,{to:"/agentes",className:`flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 transition-colors ${t("/agentes")}`,children:[e.jsx(G,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"Gestionar Agentes"})]})]}),e.jsx("div",{className:"absolute bottom-0 w-64 p-4",children:e.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 text-gray-300 hover:bg-gray-700 w-full rounded transition-colors",children:[e.jsx(as,{className:"w-5 h-5 mr-3"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("main",{className:"p-6",children:e.jsx(H,{})})})]})},ps=()=>{const[s,a]=f.useState(""),[r,l]=f.useState(""),[t,n]=f.useState(""),c=E(u=>u.login),p=L(),o=u=>{if(u.preventDefault(),!s||!r){n("Por favor ingrese su nombre de usuario y contraseña");return}c({username:s,password:r})?p("/"):n("Usuario o contraseña incorrectos")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-800 to-blue-600 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:e.jsx(me,{size:40,className:"text-blue-800"})})}),e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Sistema de Central Telefónica"}),t&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:t}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"username",className:"block text-gray-700 mb-2",children:"Nombre de Usuario"}),e.jsx("input",{type:"text",id:"username",value:s,onChange:u=>a(u.target.value),className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ingrese su nombre de usuario"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:"Contraseña"}),e.jsx("input",{type:"password",id:"password",value:r,onChange:u=>l(u.target.value),className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ingrese su contraseña"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition-colors",children:"Iniciar Sesión"})]})]})})},gs=()=>{const s=L(),{clientes:a}=E(),[r,l]=f.useState(""),t=a.filter(c=>c.nombre.toLowerCase().includes(r.toLowerCase())||c.numeroCliente.toLowerCase().includes(r.toLowerCase())||c.telefono.includes(r)),n=c=>{let p="";switch(c){case"activo":p="bg-green-100 text-green-800";break;case"inactivo":p="bg-gray-100 text-gray-800";break;case"suspendido":p="bg-red-100 text-red-800";break;default:p="bg-blue-100 text-blue-800"}return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p}`,children:c})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Directorio de Clientes"}),e.jsxs("button",{onClick:()=>s("/clientes/nuevo"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(G,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Nuevo Cliente"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buscar por nombre, número de cliente o teléfono...",value:r,onChange:c=>l(c.target.value)})]}),t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Número Cliente"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teléfono"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan Actual"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"font-medium text-gray-900",children:c.nombre}),e.jsx("div",{className:"text-sm text-gray-500",children:c.email})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:c.numeroCliente})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:c.telefono})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:c.planActual})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n(c.estado)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(C,{to:`/clientes/${c.id}`,className:"text-blue-600 hover:text-blue-900",children:"Ver Detalles"})})]},c.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx(P,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No se encontraron clientes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No hay clientes que coincidan con tu búsqueda."})]})]})]})},bs=()=>{const s=L(),{getTicketsFiltrados:a,clientes:r,currentUser:l}=E(),[t,n]=f.useState(""),[c,p]=f.useState("todos"),o=a(),u=r.reduce((d,i)=>(d[i.id]=i.nombre,d),{}),b=o.filter(d=>{const i=d.id.toLowerCase().includes(t.toLowerCase())||(u[d.clienteId]||"").toLowerCase().includes(t.toLowerCase())||d.problema.toLowerCase().includes(t.toLowerCase()),y=c==="todos"||d.estado===c;return i&&y}),j=d=>{let i="";switch(d){case"abierto":i="bg-red-100 text-red-800";break;case"en-proceso":i="bg-yellow-100 text-yellow-800";break;case"resuelto":i="bg-green-100 text-green-800";break;case"cerrado":i="bg-gray-100 text-gray-800";break;default:i="bg-blue-100 text-blue-800"}return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:d})},m=d=>{let i="",y="";switch(d){case"tecnico":i="bg-blue-100 text-blue-800",y="Técnico";break;case"ventas":i="bg-green-100 text-green-800",y="Ventas";break;case"informacion":i="bg-purple-100 text-purple-800",y="Información";break;case"general":i="bg-gray-100 text-gray-800",y="General";break;default:i="bg-blue-100 text-blue-800",y=d}return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:y})},x=d=>new Date(d).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gestión de Tickets"}),e.jsxs("button",{onClick:()=>s("/tickets/nuevo"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Nuevo Ticket"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buscar tickets por ID, cliente o problema...",value:t,onChange:d=>n(d.target.value)})]})}),e.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filtroEstado",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado:"}),e.jsxs("select",{id:"filtroEstado",className:"rounded-md border border-gray-300 p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:d=>p(d.target.value),children:[e.jsx("option",{value:"todos",children:"Todos los estados"}),e.jsx("option",{value:"abierto",children:"Abierto"}),e.jsx("option",{value:"en-proceso",children:"En proceso"}),e.jsx("option",{value:"resuelto",children:"Resuelto"}),e.jsx("option",{value:"cerrado",children:"Cerrado"})]})]})}),b.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Ticket"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Problema"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Departamento"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(d=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:u[d.clienteId]||"Cliente Desconocido"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:d.problema})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m(d.departamento)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(d.estado)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:x(d.fechaCreacion)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(C,{to:`/tickets/${d.id}`,className:"text-blue-600 hover:text-blue-900",children:"Ver Detalles"})})]},d.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx(V,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No se encontraron tickets"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No hay tickets que coincidan con tus criterios de búsqueda."})]})]})]})},js=()=>{const{tickets:s=[],clientes:a=[],sesionesLlamada:r=[]}=E(),l=s.filter(i=>i.estado==="abierto").length,t=s.filter(i=>i.estado==="en-proceso").length,n=s.filter(i=>i.estado==="resuelto").length,c=s.filter(i=>i.estado==="cerrado").length,p=s.filter(i=>i.departamento==="tecnico").length,o=s.filter(i=>i.departamento==="ventas").length,u=s.filter(i=>i.departamento==="informacion").length,b=r.filter(i=>i.estado==="activa").length,j=[...s].sort((i,y)=>new Date(y.fechaCreacion).getTime()-new Date(i.fechaCreacion).getTime()).slice(0,5),m=a.reduce((i,y)=>(i[y.id]=y.nombre,i),{}),x=i=>{let y="";switch(i){case"abierto":y="bg-red-100 text-red-800";break;case"en-proceso":y="bg-yellow-100 text-yellow-800";break;case"resuelto":y="bg-green-100 text-green-800";break;case"cerrado":y="bg-gray-100 text-gray-800";break;default:y="bg-blue-100 text-blue-800"}return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y}`,children:i})},d=i=>new Date(i).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"});return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:e.jsx(V,{className:"h-6 w-6 text-blue-700"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Total de Tickets"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:e.jsx(xe,{className:"h-6 w-6 text-green-700"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Tickets Resueltos"}),e.jsx("p",{className:"text-2xl font-bold",children:n})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 mr-4",children:e.jsx($,{className:"h-6 w-6 text-yellow-700"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Tickets Pendientes"}),e.jsx("p",{className:"text-2xl font-bold",children:l+t})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 mr-4",children:e.jsx(P,{className:"h-6 w-6 text-purple-700"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Total Clientes"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Distribución de Tickets por Estado"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Abiertos"}),e.jsx("span",{className:"text-sm font-medium",children:l})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-red-500 h-2.5 rounded-full",style:{width:`${l/s.length*100}%`}})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"En Proceso"}),e.jsx("span",{className:"text-sm font-medium",children:t})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-yellow-500 h-2.5 rounded-full",style:{width:`${t/s.length*100}%`}})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Resueltos"}),e.jsx("span",{className:"text-sm font-medium",children:n})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${n/s.length*100}%`}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cerrados"}),e.jsx("span",{className:"text-sm font-medium",children:c})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-gray-500 h-2.5 rounded-full",style:{width:`${c/s.length*100}%`}})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Distribución por Departamento"}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-blue-700 font-bold",children:p})}),e.jsx("p",{className:"text-sm",children:"Técnico"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-green-700 font-bold",children:o})}),e.jsx("p",{className:"text-sm",children:"Ventas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-purple-700 font-bold",children:u})}),e.jsx("p",{className:"text-sm",children:"Info"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium",children:"Llamadas Activas"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"}),e.jsx("span",{className:"font-bold",children:b})]})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Llamadas de hoy"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:r.length})]})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Tickets Recientes"}),j.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m[i.clienteId]||"Desconocido"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(i.estado)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(i.fechaCreacion)})]},i.id))})]})}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay tickets recientes."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Estadísticas Destacadas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ss,{className:"w-5 h-5 text-blue-700 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Tasa de Resolución"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[s.length>0?Math.round(n/s.length*100):0,"%"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n," de ",s.length," tickets"]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(xs,{className:"w-5 h-5 text-green-700 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Nuevos Hoy"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-800",children:"+3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tickets creados hoy"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(es,{className:"w-5 h-5 text-yellow-700 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Pendientes"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:l+t}),e.jsx("p",{className:"text-sm text-gray-600",children:"Requieren atención"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Y,{className:"w-5 h-5 text-purple-700 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Duración Media"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-800",children:"12 min"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tiempo de llamada"})]})]})]})]})]})},ys=()=>{const s=L(),{id:a}=ee(),{clientes:r,tickets:l}=E(),t=r.find(o=>o.id===a),n=l.filter(o=>o.clienteId===a),c=o=>new Date(o).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"}),p=o=>{let u="";switch(o){case"abierto":u="bg-red-100 text-red-800";break;case"en-proceso":u="bg-yellow-100 text-yellow-800";break;case"resuelto":u="bg-green-100 text-green-800";break;case"cerrado":u="bg-gray-100 text-gray-800";break;default:u="bg-blue-100 text-blue-800"}return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u}`,children:o})};return t?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(C,{to:"/clientes",className:"mr-4 text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-1"}),e.jsx("span",{children:"Volver"})]}),e.jsx("h1",{className:"text-2xl font-bold",children:"Detalle del Cliente"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"border-b pb-4 mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:t.nombre}),e.jsxs("p",{className:"text-gray-500",children:["Cliente desde ",c(t.fechaRegistro)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Información de Contacto"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(rs,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),e.jsx("span",{className:"block text-gray-900",children:t.email})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(me,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),e.jsx("span",{className:"block text-gray-900",children:t.telefono})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(ls,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Dirección"}),e.jsx("span",{className:"block text-gray-900",children:t.direccion})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Información de Cuenta"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-5 h-5 text-gray-500 mr-2 mt-0.5",children:"#"}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Número de Cliente"}),e.jsx("span",{className:"block text-gray-900",children:t.numeroCliente})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(de,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Registro"}),e.jsx("span",{className:"block text-gray-900",children:c(t.fechaRegistro)})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(ns,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Plan Actual"}),e.jsx("span",{className:"block text-gray-900",children:t.planActual})]})]})]})]})]})]})}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md h-fit",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Estado de la Cuenta"}),e.jsx("div",{className:`p-4 rounded-lg mb-6 ${t.estado==="activo"?"bg-green-50":t.estado==="suspendido"?"bg-red-50":"bg-yellow-50"}`,children:e.jsxs("p",{className:`font-medium ${t.estado==="activo"?"text-green-800":t.estado==="suspendido"?"text-red-800":"text-yellow-800"}`,children:["Estado: ",t.estado.charAt(0).toUpperCase()+t.estado.slice(1)]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("button",{onClick:()=>s("/tickets/nuevo",{state:{clienteId:t.id}}),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center justify-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Crear Ticket"})]})})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Tickets Recientes"}),e.jsx(C,{to:"/tickets",className:"text-blue-600 hover:text-blue-800",children:"Ver Todos"})]}),n.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Ticket"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Problema"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(o=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.id})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:o.problema})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p(o.estado)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx($,{className:"w-4 h-4 mr-1"}),new Date(o.fechaCreacion).toLocaleDateString("es-MX")]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(C,{to:`/tickets/${o.id}`,className:"text-blue-600 hover:text-blue-900",children:"Ver Detalles"})})]},o.id))})]})}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Este cliente no tiene tickets registrados."})})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Cliente no encontrado"}),e.jsx("p",{className:"mb-6",children:"El cliente que buscas no existe o ha sido eliminado."}),e.jsxs(C,{to:"/clientes",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Volver a Clientes"]})]})},fs=()=>{const{id:s}=ee(),{tickets:a,clientes:r,actualizarTicket:l}=E(),[t,n]=f.useState(""),[c,p]=f.useState(""),[o,u]=f.useState(""),[b,j]=f.useState(""),m=a.find(g=>g.id===s),x=m?r.find(g=>g.id===m.clienteId):null,d=g=>new Date(g).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),i=()=>{if(!c||!m){u("Por favor seleccione un estado");return}try{l(m.id,c),j("Estado actualizado correctamente"),u(""),p("")}catch(g){u(g instanceof Error?g.message:"Error al actualizar el estado"),j("")}},y=()=>{if(!t||!m){u("Por favor ingrese una nota");return}try{l(m.id,m.estado,t),j("Nota agregada correctamente"),u(""),n("")}catch(g){u(g instanceof Error?g.message:"Error al agregar la nota"),j("")}},U=()=>{j("Seguimiento agendado correctamente")},_=()=>{window.print()},z=g=>{let v="";switch(g){case"abierto":v="bg-red-900 text-red-200";break;case"en-proceso":v="bg-yellow-900 text-yellow-200";break;case"resuelto":v="bg-green-900 text-green-200";break;case"cerrado":v="bg-gray-700 text-gray-200";break;default:v="bg-blue-900 text-blue-200"}return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v}`,children:g})},h=g=>{let v="",T="";switch(g){case"tecnico":v="bg-blue-900 text-blue-200",T="Soporte Técnico";break;case"ventas":v="bg-green-900 text-green-200",T="Ventas";break;case"informacion":v="bg-purple-900 text-purple-200",T="Información";break;case"general":v="bg-gray-700 text-gray-200",T="General";break;default:v="bg-blue-900 text-blue-200",T=g}return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v}`,children:T})};return m?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(C,{to:"/tickets",className:"mr-4 text-blue-400 hover:text-blue-300 flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-1"}),e.jsx("span",{children:"Volver"})]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Detalle del Ticket"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"border-b border-gray-700 pb-4 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[z(m.estado),h(m.departamento)]}),e.jsxs("h2",{className:"text-xl font-semibold mb-1 text-white",children:["Ticket #",m.id]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx($,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Creado el ",d(m.fechaCreacion)]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-3 text-white",children:"Problema"}),e.jsx("p",{className:"text-gray-300 bg-gray-700 p-3 rounded",children:m.problema})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3 text-white",children:"Historial de Notas"}),m.notas.length>0?e.jsx("ul",{className:"space-y-4",children:m.notas.map((g,v)=>e.jsxs("li",{className:"bg-gray-700 p-4 rounded",children:[e.jsx("p",{className:"text-gray-300",children:g}),e.jsxs("div",{className:"flex items-center mt-2 text-gray-400 text-xs",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:["Nota ",v+1]})]})]},v))}):e.jsx("p",{className:"text-gray-400 italic text-center py-4",children:"No hay notas registradas para este ticket."}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:t,onChange:g=>n(g.target.value),className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-l text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Agregar una nota..."}),e.jsx("button",{onClick:y,disabled:!t,className:"px-3 bg-blue-600 text-white rounded-r hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed",children:e.jsx(ds,{className:"w-5 h-5"})})]}),o&&e.jsx("p",{className:"mt-2 text-red-400 text-sm",children:o}),b&&e.jsx("p",{className:"mt-2 text-green-400 text-sm",children:b})]})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4 text-white",children:"Información del Cliente"}),x?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 rounded-full bg-gray-700 mr-3",children:e.jsx(ms,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:x.nombre}),e.jsx("p",{className:"text-sm text-gray-400",children:x.numeroCliente})]})]}),e.jsxs("ul",{className:"space-y-2 text-gray-300",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-gray-400",children:"Teléfono:"})," ",x.telefono]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-gray-400",children:"Email:"})," ",x.email]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-gray-400",children:"Plan:"})," ",x.planActual]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(C,{to:`/clientes/${x.id}`,className:"text-blue-400 hover:text-blue-300",children:"Ver perfil completo"})})]}):e.jsx("p",{className:"text-gray-400 italic",children:"No se encontró información del cliente."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-lg font-medium mb-4 text-white",children:"Acciones"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"cambioEstado",className:"block mb-2 text-gray-300",children:"Cambiar Estado"}),e.jsxs("div",{className:"flex",children:[e.jsxs("select",{id:"cambioEstado",value:c,onChange:g=>p(g.target.value),className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-l text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar estado..."}),e.jsx("option",{value:"abierto",children:"Abierto"}),e.jsx("option",{value:"en-proceso",children:"En Proceso"}),e.jsx("option",{value:"resuelto",children:"Resuelto"}),e.jsx("option",{value:"cerrado",children:"Cerrado"})]}),e.jsx("button",{onClick:i,disabled:!c,className:"px-3 bg-green-600 text-white rounded-r hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed",children:e.jsx(xe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:U,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Agendar Seguimiento"]}),e.jsxs("button",{onClick:_,className:"w-full px-4 py-2 border border-gray-600 text-gray-300 rounded hover:bg-gray-700 flex items-center justify-center",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Imprimir Ticket"]})]})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Ticket no encontrado"}),e.jsx("p",{className:"mb-6 text-gray-300",children:"El ticket que buscas no existe o ha sido eliminado."}),e.jsxs(C,{to:"/tickets",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Volver a Tickets"]})]})},Ns=()=>{const s=L(),a=E(n=>n.crearCliente),[r,l]=f.useState({nombre:"",telefono:"",email:"",direccion:"",numeroCliente:`C${Date.now()}`,planActual:"Fibra 100MB",estado:"activo"}),t=n=>{n.preventDefault();const c=a(r);s(`/clientes/${c.id}`)};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Crear Nuevo Cliente"}),e.jsxs("form",{onSubmit:t,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),e.jsx("input",{type:"text",required:!0,value:r.nombre,onChange:n=>l({...r,nombre:n.target.value}),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),e.jsx("input",{type:"tel",required:!0,value:r.telefono,onChange:n=>l({...r,telefono:n.target.value}),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:r.email,onChange:n=>l({...r,email:n.target.value}),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),e.jsx("input",{type:"text",required:!0,value:r.direccion,onChange:n=>l({...r,direccion:n.target.value}),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan"}),e.jsxs("select",{value:r.planActual,onChange:n=>l({...r,planActual:n.target.value}),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"Fibra 100MB",children:"Fibra 100MB"}),e.jsx("option",{value:"Fibra 300MB",children:"Fibra 300MB"}),e.jsx("option",{value:"Fibra 500MB",children:"Fibra 500MB"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Crear Cliente"})})]})]})},vs=()=>{var m;const s=L(),a=Q(),{crearTicket:r,clientes:l,currentUser:t}=E(),[n,c]=f.useState(""),p=((m=a.state)==null?void 0:m.clienteId)||"",[o,u]=f.useState({clienteId:p,departamento:(t==null?void 0:t.departamento)||"",problema:""}),b=async x=>{x.preventDefault(),c("");try{const d=r(o.clienteId,o.departamento,o.problema);s(`/tickets/${d}`)}catch(d){c(d instanceof Error?d.message:"Error al crear el ticket")}},j=(t==null?void 0:t.rol)==="admin"?["tecnico","ventas","informacion","general"]:[(t==null?void 0:t.departamento)||""];return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-white",children:"Crear Nuevo Ticket"}),n&&e.jsx("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded mb-4",children:n}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[!p&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Cliente"}),e.jsxs("select",{required:!0,value:o.clienteId,onChange:x=>u({...o,clienteId:x.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[e.jsx("option",{value:"",children:"Seleccionar cliente..."}),l.map(x=>e.jsxs("option",{value:x.id,children:[x.nombre," - ",x.numeroCliente]},x.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Departamento"}),e.jsx("select",{value:o.departamento,onChange:x=>u({...o,departamento:x.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",disabled:(t==null?void 0:t.rol)!=="admin",children:j.map(x=>e.jsx("option",{value:x,children:x==="tecnico"?"Soporte Técnico":x==="ventas"?"Ventas":x==="informacion"?"Información":"General"},x))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Problema"}),e.jsx("textarea",{required:!0,value:o.problema,onChange:x=>u({...o,problema:x.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:4})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Crear Ticket"})})]})]})},ws=()=>{const{currentUser:s,usuarios:a,crearUsuario:r,actualizarUsuario:l}=E(),[t,n]=f.useState(""),[c,p]=f.useState(""),[o,u]=f.useState(""),[b,j]=f.useState(null),[m,x]=f.useState({nombreUsuario:"",nombre:"",password:"",rol:"agente",departamento:"tecnico"}),[d,i]=f.useState({nombre:"",departamento:""}),y=a.filter(h=>h.rol==="agente").filter(h=>h.nombre.toLowerCase().includes(o.toLowerCase())||h.nombreUsuario.toLowerCase().includes(o.toLowerCase())||h.departamento.toLowerCase().includes(o.toLowerCase())),U=h=>{h.preventDefault(),n(""),p("");try{r(m),p("Agente creado exitosamente"),x({nombreUsuario:"",nombre:"",password:"",rol:"agente",departamento:"tecnico"})}catch(g){n(g instanceof Error?g.message:"Error al crear el agente")}},_=h=>{j(h.id),i({nombre:h.nombre,departamento:h.departamento})},z=h=>{try{l(h,d),j(null),p("Agente actualizado exitosamente")}catch(g){n(g instanceof Error?g.message:"Error al actualizar el agente")}};return(s==null?void 0:s.rol)!=="admin"?e.jsxs("div",{className:"text-center py-12 text-gray-300",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acceso Denegado"}),e.jsx("p",{children:"No tienes permisos para acceder a esta sección."})]}):e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestión de Agentes"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"p-2 rounded-full bg-gray-700 mr-3",children:e.jsx(P,{className:"w-6 h-6 text-blue-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Agentes Activos"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Buscar agentes...",value:o,onChange:h=>u(h.target.value)})]})}),y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Departamento"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:y.map(h=>e.jsxs("tr",{className:"hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b===h.id?e.jsx("input",{type:"text",value:d.nombre,onChange:g=>i({...d,nombre:g.target.value}),className:"bg-gray-700 text-white border border-gray-600 rounded px-2 py-1"}):e.jsx("div",{className:"text-sm font-medium text-white",children:h.nombre})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-300",children:h.nombreUsuario})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b===h.id?e.jsxs("select",{value:d.departamento,onChange:g=>i({...d,departamento:g.target.value}),className:"bg-gray-700 text-white border border-gray-600 rounded px-2 py-1",children:[e.jsx("option",{value:"tecnico",children:"Soporte Técnico"}),e.jsx("option",{value:"ventas",children:"Ventas"}),e.jsx("option",{value:"informacion",children:"Información"}),e.jsx("option",{value:"general",children:"General"})]}):e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.departamento==="tecnico"?"bg-blue-900 text-blue-200":h.departamento==="ventas"?"bg-green-900 text-green-200":h.departamento==="informacion"?"bg-purple-900 text-purple-200":"bg-gray-700 text-gray-200"}`,children:h.departamento==="tecnico"?"Soporte Técnico":h.departamento==="ventas"?"Ventas":h.departamento==="informacion"?"Información":"General"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:b===h.id?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>z(h.id),className:"text-green-400 hover:text-green-300",children:e.jsx(os,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>j(null),className:"text-red-400 hover:text-red-300",children:e.jsx(us,{className:"w-5 h-5"})})]}):e.jsx("button",{onClick:()=>_(h),className:"text-blue-400 hover:text-blue-300",children:e.jsx(cs,{className:"w-5 h-5"})})})]},h.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(P,{className:"h-12 w-12 text-gray-500 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-white",children:"No se encontraron agentes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-400",children:o?"No hay agentes que coincidan con tu búsqueda.":"Aún no hay agentes registrados."})]})]})}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md h-fit",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"p-2 rounded-full bg-gray-700 mr-3",children:e.jsx(G,{className:"w-6 h-6 text-blue-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Crear Nuevo Agente"})]}),t&&e.jsx("div",{className:"mb-4 p-3 bg-red-900 text-red-100 rounded-lg",children:t}),c&&e.jsx("div",{className:"mb-4 p-3 bg-green-900 text-green-100 rounded-lg",children:c}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nombre de Usuario"}),e.jsx("input",{type:"text",required:!0,value:m.nombreUsuario,onChange:h=>x({...m,nombreUsuario:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"usuario123"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nombre Completo"}),e.jsx("input",{type:"text",required:!0,value:m.nombre,onChange:h=>x({...m,nombre:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Juan Pérez"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Contraseña"}),e.jsx("input",{type:"password",required:!0,value:m.password,onChange:h=>x({...m,password:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Departamento"}),e.jsxs("select",{value:m.departamento,onChange:h=>x({...m,departamento:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[e.jsx("option",{value:"tecnico",children:"Soporte Técnico"}),e.jsx("option",{value:"ventas",children:"Ventas"}),e.jsx("option",{value:"informacion",children:"Información"}),e.jsx("option",{value:"general",children:"General"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Crear Agente"})})]})]})]})]})},ks=({children:s})=>E(r=>r.isLoggedIn)?e.jsx(e.Fragment,{children:s}):e.jsx(se,{to:"/login"});function Cs(){return e.jsx(be,{children:e.jsxs(je,{children:[e.jsx(S,{path:"/login",element:e.jsx(ps,{})}),e.jsxs(S,{path:"/",element:e.jsx(ks,{children:e.jsx(hs,{})}),children:[e.jsx(S,{index:!0,element:e.jsx(js,{})}),e.jsx(S,{path:"clientes",element:e.jsx(gs,{})}),e.jsx(S,{path:"clientes/nuevo",element:e.jsx(Ns,{})}),e.jsx(S,{path:"clientes/:id",element:e.jsx(ys,{})}),e.jsx(S,{path:"tickets",element:e.jsx(bs,{})}),e.jsx(S,{path:"tickets/nuevo",element:e.jsx(vs,{})}),e.jsx(S,{path:"tickets/:id",element:e.jsx(fs,{})}),e.jsx(S,{path:"agentes",element:e.jsx(ws,{})})]}),e.jsx(S,{path:"*",element:e.jsx(se,{to:"/"})})]})})}E.getState().initializeStore();re(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(Cs,{})}));
